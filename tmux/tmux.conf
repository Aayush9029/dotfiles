# Prefix: Ctrl+\
unbind C-b
set -g prefix 'C-\'
bind 'C-\' send-prefix

# Basic settings
set -g default-terminal "tmux-256color"
set -g mouse on
set -g base-index 1
set -g history-limit 50000
set -g status-right-length 200

# Rename window with cleared input (prefix + ,)
bind , command-prompt -p "rename:" "rename-window '%%'"

# Catppuccin (load first for colors)
set -g @catppuccin_flavor 'mocha'
run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

# Status bar
set -g status-left "#{?client_prefix,#[bg=yellow]#[fg=black]#[bold] PREFIX #[default] ,}"
set -g status-right " #(ps -t #{pane_tty} -o args= 2>/dev/null | tail -1 | cut -c1-50) "

# Open new tab in current dir (replaces default time window)
bind t new-window -c "#{pane_current_path}" -n "#{b:pane_current_path}"

# Open new tab in current dir with cco
bind o new-window -c "#{pane_current_path}" \; send-keys "cco" Enter

# Open new tab in current dir with ccd (codex)
bind i new-window -c "#{pane_current_path}" \; send-keys "ccd" Enter

# Reload
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded"
